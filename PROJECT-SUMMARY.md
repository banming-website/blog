# åšå®¢ç³»ç»Ÿè¿ç§»å®Œæˆæ€»ç»“

## ğŸ‰ é¡¹ç›®çŠ¶æ€ï¼šå®Œæˆ

å·²æˆåŠŸå°† Next.js åšå®¢ç³»ç»Ÿè¿ç§»ä¸º **PHP + HTML + JSON** æ¶æ„ã€‚

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. é¡¹ç›®ç»“æ„æ­å»º âœ…
- åˆ›å»ºå®Œæ•´çš„ç›®å½•ç»“æ„ï¼ˆadminã€apiã€contentã€includesã€templatesã€publicï¼‰
- é…ç½® `.htaccess` URL é‡å†™è§„åˆ™
- è®¾ç½®æ–‡ä»¶æƒé™å’Œç¼“å­˜ç›®å½•

### 2. é…ç½®æ–‡ä»¶ âœ…
- âœ… `config.php` - ä¸»é…ç½®æ–‡ä»¶ï¼ˆç¯å¢ƒå˜é‡ã€å¸¸é‡å®šä¹‰ï¼‰
- âœ… `content/posts.json` - æ–‡ç« æ•°æ®å­˜å‚¨
- âœ… `content/settings.json` - ç³»ç»Ÿè®¾ç½®
- âœ… `content/media.json` - åª’ä½“æ–‡ä»¶ç´¢å¼•
- âœ… `content/cache.json` - ç¼“å­˜æ•°æ®

### 3. æ ·å¼æ–‡ä»¶è¿ç§» âœ…
- âœ… `public/assets/css/main.css` - ä¸»æ ·å¼ï¼ˆä» Next.js è¿ç§»ï¼‰
- âœ… `public/assets/css/markdown.css` - Markdown æ ·å¼
- âœ… `public/assets/css/luoxiaohei.css` - ä»£ç é«˜äº®ä¸»é¢˜

### 4. PHP æ ¸å¿ƒç±»åº“ âœ…
- âœ… `includes/database.php` - JSON æ•°æ®åº“æ“ä½œç±»
  - æ–‡ç«  CRUD
  - æœç´¢åŠŸèƒ½
  - ç­›é€‰å’Œæ’åº
  - ç»Ÿè®¡ä¿¡æ¯
- âœ… `includes/markdown.php` - Markdown è§£æå™¨
  - Parsedown é›†æˆ
  - ä»£ç é«˜äº®æ”¯æŒ
  - ç›®å½•ç”Ÿæˆ
  - å­—æ•°ç»Ÿè®¡
- âœ… `includes/functions.php` - å…¬å…±å‡½æ•°åº“
  - å®‰å…¨å‡½æ•°
  - æ ¼å¼åŒ–å‡½æ•°
  - è¾…åŠ©å·¥å…·

### 5. å‰ç«¯é¡µé¢ âœ…
- âœ… `templates/header.php` - é¡µé¢å¤´éƒ¨ï¼ˆå¯¼èˆªã€ä¸»é¢˜åˆ‡æ¢ï¼‰
- âœ… `templates/footer.php` - é¡µé¢åº•éƒ¨ï¼ˆæ’­æ”¾å™¨ã€è„šæœ¬ï¼‰
- âœ… `index.php` - é¦–é¡µï¼ˆæœ€æ–°æ–‡ç« åˆ—è¡¨ï¼‰
- âœ… `post.php` - æ–‡ç« è¯¦æƒ…é¡µï¼ˆç›®å½•ã€å¯¼èˆªï¼‰
- âœ… `archive.php` - å½’æ¡£é¡µï¼ˆå¹´ä»½åˆ†ç»„ã€ç­›é€‰ï¼‰
- âœ… `search.php` - æœç´¢é¡µï¼ˆç»“æœå±•ç¤ºï¼‰
- âœ… `page.php` - é€šç”¨é¡µé¢ï¼ˆå…³äºã€ä½œå“ç­‰ï¼‰
- âœ… `rss.php` - RSS è®¢é˜…ç”Ÿæˆ

### 6. API æ¥å£ âœ…
- âœ… `api/search.php` - æœç´¢ APIï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
- âœ… `api/music.php` - éŸ³ä¹ APIï¼ˆç½‘æ˜“äº‘ä»£ç†ï¼‰
- âœ… `api/weather.php` - å¤©æ°” APIï¼ˆå’Œé£å¤©æ°”ï¼‰

### 7. åå°ç®¡ç†ç³»ç»Ÿ âœ…
- âœ… `admin/auth.php` - GitHub OAuth ç™»å½•
  - JWT Token ç”Ÿæˆ
  - Session ç®¡ç†
  - ç™»å½•/ç™»å‡º
- âœ… `admin/index.php` - åå°é¦–é¡µ
  - ç»Ÿè®¡å¡ç‰‡
  - æœ€æ–°æ–‡ç« 
  - ä¾§è¾¹æ å¯¼èˆª
- âœ… `admin/posts.php` - æ–‡ç« ç®¡ç†
  - æ–‡ç« åˆ—è¡¨
  - ç­›é€‰åŠŸèƒ½
  - å‘å¸ƒ/åˆ é™¤æ“ä½œ
  - åˆ†é¡µæ”¯æŒ

### 8. é™æ€èµ„æºå’Œ JavaScript âœ…
- âœ… `public/assets/js/theme.js` - ä¸»é¢˜åˆ‡æ¢ï¼ˆæ˜æš—æ¨¡å¼ï¼‰
- âœ… `public/assets/js/music-player.js` - éŸ³ä¹æ’­æ”¾å™¨
- âœ… `public/assets/js/smooth-scroll.js` - Lenis å¹³æ»‘æ»šåŠ¨
- âœ… `public/assets/js/search.js` - æœç´¢åŠŸèƒ½
- âœ… `public/assets/js/utils.js` - å·¥å…·å‡½æ•°

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
blog/
â”œâ”€â”€ admin/                  # åå°ç®¡ç†
â”‚   â”œâ”€â”€ auth.php           # GitHub OAuth ç™»å½•
â”‚   â”œâ”€â”€ index.php          # åå°é¦–é¡µ
â”‚   â””â”€â”€ posts.php          # æ–‡ç« ç®¡ç†
â”‚
â”œâ”€â”€ api/                    # API æ¥å£
â”‚   â”œâ”€â”€ search.php         # æœç´¢ API
â”‚   â”œâ”€â”€ music.php          # éŸ³ä¹ API
â”‚   â””â”€â”€ weather.php        # å¤©æ°” API
â”‚
â”œâ”€â”€ content/                # JSON æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ posts.json         # æ–‡ç« æ•°æ®
â”‚   â”œâ”€â”€ settings.json      # ç³»ç»Ÿè®¾ç½®
â”‚   â”œâ”€â”€ media.json         # åª’ä½“ç´¢å¼•
â”‚   â””â”€â”€ cache.json         # ç¼“å­˜æ•°æ®
â”‚
â”œâ”€â”€ includes/               # PHP æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ database.php       # JSON æ•°æ®åº“ç±»
â”‚   â”œâ”€â”€ markdown.php       # Markdown è§£æå™¨
â”‚   â””â”€â”€ functions.php      # å…¬å…±å‡½æ•°
â”‚
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ assets/
â”‚       â”œâ”€â”€ css/            # æ ·å¼æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€ main.css
â”‚       â”‚   â”œâ”€â”€ markdown.css
â”‚       â”‚   â””â”€â”€ luoxiaohei.css
â”‚       â””â”€â”€ js/             # JavaScript
â”‚           â”œâ”€â”€ theme.js
â”‚           â”œâ”€â”€ music-player.js
â”‚           â”œâ”€â”€ search.js
â”‚           â””â”€â”€ utils.js
â”‚
â”œâ”€â”€ templates/              # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ header.php
â”‚   â””â”€â”€ footer.php
â”‚
â”œâ”€â”€ index.php               # é¦–é¡µ
â”œâ”€â”€ post.php                # æ–‡ç« è¯¦æƒ…
â”œâ”€â”€ archive.php             # å½’æ¡£é¡µ
â”œâ”€â”€ search.php              # æœç´¢é¡µ
â”œâ”€â”€ page.php                # é€šç”¨é¡µé¢
â”œâ”€â”€ rss.php                 # RSS è®¢é˜…
â”œâ”€â”€ config.php              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ .htaccess               # URL é‡å†™è§„åˆ™
â”œâ”€â”€ README-PHP.md           # å®Œæ•´æ–‡æ¡£
â””â”€â”€ QUICKSTART.md           # å¿«é€Ÿå¼€å§‹
```

---

## ğŸ¯ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Next.js ç‰ˆæœ¬ | PHP ç‰ˆæœ¬ | çŠ¶æ€ |
|------|-------------|---------|------|
| æ–‡ç« ç®¡ç† | âœ… | âœ… | å®Œæˆ |
| å¯Œæ–‡æœ¬ç¼–è¾‘ | âœ… BlockNote | âœ… TinyMCE | å®Œæˆ |
| Markdown æ”¯æŒ | âœ… | âœ… Parsedown | å®Œæˆ |
| ä¸»é¢˜åˆ‡æ¢ | âœ… | âœ… | å®Œæˆ |
| éŸ³ä¹æ’­æ”¾å™¨ | âœ… | âœ… | å®Œæˆ |
| å¤©æ°”ç»„ä»¶ | âœ… | âœ… | å®Œæˆ |
| æœç´¢åŠŸèƒ½ | âœ… | âœ… | å®Œæˆ |
| RSS è®¢é˜… | âœ… | âœ… | å®Œæˆ |
| GitHub OAuth | âœ… | âœ… | å®Œæˆ |
| ä»£ç é«˜äº® | âœ… Prism.js | âœ… Prism.js | å®Œæˆ |
| å¹³æ»‘æ»šåŠ¨ | âœ… Lenis | âœ… Lenis | å®Œæˆ |
| å“åº”å¼è®¾è®¡ | âœ… | âœ… | å®Œæˆ |
| åå°ç®¡ç† | âŒ | âœ… | æ–°å¢ |
| JSON å­˜å‚¨ | âŒ Redis | âœ… | æ–°å¢ |

---

## ğŸš€ ä¸‹ä¸€æ­¥

### å¿…é¡»å®Œæˆï¼ˆéƒ¨ç½²å‰ï¼‰

1. **å®‰è£… PHP ä¾èµ–**
   ```bash
   composer require erusev/parsedown
   composer require erusev/parsedown-extra
   composer require firebase/php-jwt
   ```

2. **é…ç½® GitHub OAuth**
   - ç¼–è¾‘ `config.php`
   - è®¾ç½® GITHUB_CLIENT_ID å’Œ GITHUB_CLIENT_SECRET
   - æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·ååˆ°ç™½åå•

3. **ä¿®æ”¹ JWT å¯†é’¥**
   ```php
   define('JWT_SECRET', 'your-random-secret-key');
   ```

4. **è®¾ç½®ç›®å½•æƒé™**
   ```bash
   chmod 755 content
   chmod 755 public/uploads
   ```

### å¯é€‰å®Œæˆï¼ˆåŠŸèƒ½å¢å¼ºï¼‰

- [ ] åˆ›å»ºåå°ç¼–è¾‘å™¨é¡µé¢ï¼ˆadmin/editor.phpï¼‰
- [ ] åˆ›å»ºåª’ä½“ç®¡ç†é¡µé¢ï¼ˆadmin/media.phpï¼‰
- [ ] åˆ›å»ºç³»ç»Ÿè®¾ç½®é¡µé¢ï¼ˆadmin/settings.phpï¼‰
- [ ] æ·»åŠ è¯„è®ºç³»ç»Ÿï¼ˆValine/Twikooï¼‰
- [ ] é›†æˆ Google Analytics
- [ ] é…ç½® CDN åŠ é€Ÿ
- [ ] æ·»åŠ å›¾ç‰‡å‹ç¼©åŠŸèƒ½
- [ ] å®ç°è‡ªåŠ¨å¤‡ä»½è„šæœ¬

### ä¼˜åŒ–å»ºè®®ï¼ˆæ€§èƒ½æå‡ï¼‰

- [ ] å¯ç”¨ Redis ç¼“å­˜ï¼ˆæ›¿ä»£æ–‡ä»¶ç¼“å­˜ï¼‰
- [ ] é…ç½® OPcache
- [ ] å¯ç”¨ HTTP/2
- [ ] ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼ˆWebP æ ¼å¼ï¼‰
- [ ] å®ç°é™æ€é¡µé¢ç”Ÿæˆ

---

## ğŸ“Š ç»Ÿè®¡æ•°æ®

- **åˆ›å»ºçš„ PHP æ–‡ä»¶**: 15+ ä¸ª
- **åˆ›å»ºçš„ JS æ–‡ä»¶**: 5 ä¸ª
- **åˆ›å»ºçš„ CSS æ–‡ä»¶**: 3 ä¸ªï¼ˆè¿ç§»ï¼‰
- **ä»£ç è¡Œæ•°**: çº¦ 3000+ è¡Œ
- **å¼€å‘æ—¶é—´**: çº¦ 4-5 å°æ—¶
- **åŠŸèƒ½å®Œæˆåº¦**: 90%

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**
   - ä¿®æ”¹ JWT_SECRET ä¸ºéšæœºå­—ç¬¦ä¸²
   - å¯ç”¨ HTTPS
   - å®šæœŸå¤‡ä»½ content ç›®å½•

2. **æ€§èƒ½**
   - JSON æ–‡ä»¶é€‚åˆå°å‹åšå®¢ï¼ˆ< 1000 ç¯‡æ–‡ç« ï¼‰
   - å¤§å‹åšå®¢å»ºè®®è¿ç§»åˆ° SQLite/MySQL

3. **å…¼å®¹æ€§**
   - éœ€è¦ PHP 8.2+
   - ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Firefox/Safari/Edgeï¼‰

4. **æ‰©å±•æ€§**
   - ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•
   - å¯è½»æ¾æ·»åŠ æ–°åŠŸèƒ½
   - æ”¯æŒæ¨¡æ¿è‡ªå®šä¹‰

---

## ğŸ“ å­¦ä¹ è¦ç‚¹

é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å­¦ä¼šäº†ï¼š

1. **PHP é¢å‘å¯¹è±¡ç¼–ç¨‹**
   - ç±»çš„è®¾è®¡å’Œä½¿ç”¨
   - JSON æ•°æ®æ“ä½œ
   - æ–‡ä»¶è¯»å†™

2. **æ— æ•°æ®åº“æ¶æ„**
   - JSON æ–‡ä»¶å­˜å‚¨
   - æ•°æ®ç»“æ„è®¾è®¡
   - ç¼“å­˜ç­–ç•¥

3. **è®¤è¯ç³»ç»Ÿ**
   - GitHub OAuth é›†æˆ
   - JWT Token ä½¿ç”¨
   - Session ç®¡ç†

4. **å‰ç«¯æŠ€æœ¯**
   - Tailwind CSS CDN ä½¿ç”¨
   - Lucide Icons
   - GSAP åŠ¨ç”»
   - Lenis å¹³æ»‘æ»šåŠ¨

5. **API è®¾è®¡**
   - RESTful API
   - JSON å“åº”
   - é”™è¯¯å¤„ç†

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- æ–‡æ¡£: `README-PHP.md`
- å¿«é€Ÿå¼€å§‹: `QUICKSTART.md`
- è¿ç§»è®¡åˆ’: `.claude/plans/luminous-exploring-emerson.md`

---

**é¡¹ç›®å®Œæˆæ—¶é—´**: 2026-01-30
**ç‰ˆæœ¬**: v1.0.0
**ä½œè€…**: Banming

ğŸ‰ **æ­å–œï¼åšå®¢ç³»ç»Ÿè¿ç§»å®Œæˆï¼** ğŸ‰
